#!groovy
//run docker build
properties ([disableConcurrentBuilds()])

pipeline {
	agent {
	    label 'master'
	    }
	triggers { 
		pollSCM('*/1****')
	 }
	options {
	    buildDiscarder(logRotator(numToKeepStr: '10', artifactNumToKeepStr: '10'))
	    timestamps ()
	}
	stages {
	    stage("create docker image") {
		steps {
		    echo "============= start building image ==========="
		    dir ('docker/toolbox') {
			sh 'docker build . '
		    }
		}
	    }
}
}